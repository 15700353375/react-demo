{"version":3,"sources":["view/advanced/Focus.js"],"names":["CustomTextInput","props","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","ref","inputRef","componentName","_this","Object","E_huixb_webpack_react_react_study_todo_list_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","E_huixb_webpack_react_react_study_todo_list_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","E_huixb_webpack_react_react_study_todo_list_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","state","isOpen","inputElement","React","createRef","toggleContainer","onClickHandler","bind","E_huixb_webpack_react_react_study_todo_list_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__","onClickOutsideHandler","current","focus","window","addEventListener","removeEventListener","setState","currentState","event","contains","target","onClick","style","background","width","Component"],"mappings":"0MAGA,SAASA,EAAgBC,GACvB,OACEC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,SAAOC,IAAKJ,EAAMK,gBAKHC,cACnB,SAAAA,EAAYN,GAAO,IAAAO,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAJ,IACjBC,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAF,GAAAO,KAAAH,KAAMV,KACDc,MAAM,CACTC,QAAQ,GAEVR,EAAKS,aAAeC,IAAMC,YAC1BX,EAAKY,gBAAkBF,IAAMC,YAE7BX,EAAKa,eAAiBb,EAAKa,eAAeC,KAApBb,OAAAc,EAAA,EAAAd,CAAAD,IACtBA,EAAKgB,sBAAwBhB,EAAKgB,sBAAsBF,KAA3Bb,OAAAc,EAAA,EAAAd,CAAAD,IATZA,mFAejBG,KAAKM,aAAaQ,QAAQC,QAC1BC,OAAOC,iBAAiB,QAASjB,KAAKa,sEAItCG,OAAOE,oBAAoB,QAASlB,KAAKa,gEAIzCb,KAAKmB,SAAS,SAAAC,GAAY,MAAK,CAC7Bf,QAASe,EAAaf,wDAIJgB,GAChBrB,KAAKI,MAAMC,SAAWL,KAAKS,gBAAgBK,QAAQQ,SAASD,EAAME,SACpEvB,KAAKmB,SAAS,CAAEd,QAAQ,qCAK1B,OACEd,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACJ,EAAD,CAAiBM,SAAUK,KAAKM,eAEhCf,EAAAC,EAAAC,cAAA,OAAKC,IAAKM,KAAKS,iBACblB,EAAAC,EAAAC,cAAA,UAAQ+B,QAASxB,KAAKU,gBAAtB,oBACCV,KAAKI,MAAMC,OACVd,EAAAC,EAAAC,cAAA,MAAIgC,MAAO,CAACC,WAAW,OAAOC,MAAO,UACnCpC,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,uBAEA,cAjD6BmC","file":"static/js/3.671ff218.chunk.js","sourcesContent":["\r\nimport React, { Component } from 'react'\r\n\r\nfunction CustomTextInput(props) {\r\n  return (\r\n    <div>\r\n      <input ref={props.inputRef} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default class componentName extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={\r\n      isOpen: false\r\n    }\r\n    this.inputElement = React.createRef();\r\n    this.toggleContainer = React.createRef();\r\n\r\n    this.onClickHandler = this.onClickHandler.bind(this);\r\n    this.onClickOutsideHandler = this.onClickOutsideHandler.bind(this);\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    // 现在你就可以在需要时设置焦点了\r\n    this.inputElement.current.focus();\r\n    window.addEventListener('click', this.onClickOutsideHandler);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('click', this.onClickOutsideHandler);\r\n  }\r\n\r\n  onClickHandler() {\r\n    this.setState(currentState => ({\r\n      isOpen: !currentState.isOpen\r\n    }));\r\n  }\r\n\r\n  onClickOutsideHandler(event) {\r\n    if (this.state.isOpen && !this.toggleContainer.current.contains(event.target)) {\r\n      this.setState({ isOpen: false });\r\n    }\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <div>\r\n        <CustomTextInput inputRef={this.inputElement} />\r\n\r\n        <div ref={this.toggleContainer}>\r\n          <button onClick={this.onClickHandler}>Select an option</button>\r\n          {this.state.isOpen ? (\r\n            <ul style={{background:'#ddd',width: '200px'}}>\r\n              <li>Option 1</li>\r\n              <li>Option 2</li>\r\n              <li>Option 3</li>\r\n            </ul>\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}